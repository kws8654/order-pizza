{"ast":null,"code":"import _regeneratorRuntime from\"/Users/wonsub/Desktop/\\u110B\\u116F\\u11AB\\u1109\\u1165\\u11B8/\\u110F\\u1169\\u1103\\u1175\\u11BC/\\u1111\\u1173\\u1105\\u1169\\u1100\\u1173\\u1105\\u1162\\u11B7/Project/Order Food/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/wonsub/Desktop/\\u110B\\u116F\\u11AB\\u1109\\u1165\\u11B8/\\u110F\\u1169\\u1103\\u1175\\u11BC/\\u1111\\u1173\\u1105\\u1169\\u1100\\u1173\\u1105\\u1162\\u11B7/Project/Order Food/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/wonsub/Desktop/\\u110B\\u116F\\u11AB\\u1109\\u1165\\u11B8/\\u110F\\u1169\\u1103\\u1175\\u11BC/\\u1111\\u1173\\u1105\\u1169\\u1100\\u1173\\u1105\\u1162\\u11B7/Project/Order Food/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Card from'../UI/Card';import styles from'./AvailableFood.module.css';import FoodItem from'./FoodItem/FoodItem';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AvailableFood=function AvailableFood(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),foods=_useState2[0],setFoods=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),httpError=_useState6[0],setHttpError=_useState6[1];useEffect(function(){setIsLoading(true);fetchFoodHandler();},[]);function fetchFoodHandler(){return _fetchFoodHandler.apply(this,arguments);}function _fetchFoodHandler(){_fetchFoodHandler=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,resData,loadedFoods,key;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('https://react-practice-9b279-default-rtdb.firebaseio.com/foods.json');case 2:res=_context.sent;if(res.ok){_context.next=5;break;}throw new Error('Error occured');case 5:_context.next=7;return res.json();case 7:resData=_context.sent;loadedFoods=[];for(key in resData){loadedFoods.push({id:key,name:resData[key].name,desc:resData[key].desc,price:resData[key].price});}try{setFoods(loadedFoods);}catch(error){setIsLoading(false);setHttpError(error.message);}setIsLoading(false);case 12:case\"end\":return _context.stop();}}},_callee);}));return _fetchFoodHandler.apply(this,arguments);}return/*#__PURE__*/_jsx(\"section\",{className:styles.foods,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(\"ul\",{children:[isLoading&&/*#__PURE__*/_jsx(\"p\",{className:styles.loading,children:\"\\uB85C\\uB529 \\uC911 \\uC785\\uB2C8\\uB2E4.\"}),!isLoading&&foods.map(function(food){return/*#__PURE__*/_jsx(FoodItem,{id:food.id,name:food.name,desc:food.desc,price:food.price},food.id);})]})})});};export default AvailableFood;","map":{"version":3,"sources":["/Users/wonsub/Desktop/원섭/코딩/프로그램/Project/Order Food/src/components/Foods/AvailableFood.js"],"names":["React","useState","useEffect","Card","styles","FoodItem","AvailableFood","foods","setFoods","isLoading","setIsLoading","httpError","setHttpError","fetchFoodHandler","fetch","res","ok","Error","json","resData","loadedFoods","key","push","id","name","desc","price","error","message","loading","map","food"],"mappings":"20BAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,IAAP,KAAiB,YAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,4BAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,qBAArB,C,wFAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1B,cAA0BL,QAAQ,CAAC,EAAD,CAAlC,wCAAOM,KAAP,eAAcC,QAAd,eACA,eAAkCP,QAAQ,CAAC,KAAD,CAA1C,yCAAOQ,SAAP,eAAkBC,YAAlB,eACA,eAAkCT,QAAQ,EAA1C,yCAAOU,SAAP,eAAkBC,YAAlB,eAEAV,SAAS,CAAC,UAAM,CACdQ,YAAY,CAAC,IAAD,CAAZ,CACAG,gBAAgB,GACjB,CAHQ,CAGN,EAHM,CAAT,CAL0B,QAUXA,CAAAA,gBAVW,0JAU1B,yLACoBC,CAAAA,KAAK,CACrB,qEADqB,CADzB,QACQC,GADR,kBAIOA,GAAG,CAACC,EAJX,8BAKU,IAAIC,CAAAA,KAAJ,CAAU,eAAV,CALV,8BAOwBF,CAAAA,GAAG,CAACG,IAAJ,EAPxB,QAOQC,OAPR,eAQQC,WARR,CAQsB,EARtB,CAUE,IAAWC,GAAX,GAAkBF,CAAAA,OAAlB,CAA2B,CACzBC,WAAW,CAACE,IAAZ,CAAiB,CACfC,EAAE,CAAEF,GADW,CAEfG,IAAI,CAAEL,OAAO,CAACE,GAAD,CAAP,CAAaG,IAFJ,CAGfC,IAAI,CAAEN,OAAO,CAACE,GAAD,CAAP,CAAaI,IAHJ,CAIfC,KAAK,CAAEP,OAAO,CAACE,GAAD,CAAP,CAAaK,KAJL,CAAjB,EAMD,CACD,GAAI,CACFlB,QAAQ,CAACY,WAAD,CAAR,CACD,CAAC,MAAOO,KAAP,CAAc,CACdjB,YAAY,CAAC,KAAD,CAAZ,CACAE,YAAY,CAACe,KAAK,CAACC,OAAP,CAAZ,CACD,CACDlB,YAAY,CAAC,KAAD,CAAZ,CAxBF,uDAV0B,mDAqC1B,mBACE,gBAAS,SAAS,CAAEN,MAAM,CAACG,KAA3B,uBACE,KAAC,IAAD,wBACE,sBACGE,SAAS,eAAI,UAAG,SAAS,CAAEL,MAAM,CAACyB,OAArB,qDADhB,CAEG,CAACpB,SAAD,EACCF,KAAK,CAACuB,GAAN,CAAU,SAACC,IAAD,qBACR,KAAC,QAAD,EACE,EAAE,CAAEA,IAAI,CAACR,EADX,CAGE,IAAI,CAAEQ,IAAI,CAACP,IAHb,CAIE,IAAI,CAAEO,IAAI,CAACN,IAJb,CAKE,KAAK,CAAEM,IAAI,CAACL,KALd,EAEOK,IAAI,CAACR,EAFZ,CADQ,EAAV,CAHJ,GADF,EADF,EADF,CAmBD,CAxDD,CA0DA,cAAejB,CAAAA,aAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Card from '../UI/Card';\nimport styles from './AvailableFood.module.css';\nimport FoodItem from './FoodItem/FoodItem';\n\nconst AvailableFood = () => {\n  const [foods, setFoods] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [httpError, setHttpError] = useState();\n\n  useEffect(() => {\n    setIsLoading(true);\n    fetchFoodHandler();\n  }, []);\n\n  async function fetchFoodHandler() {\n    const res = await fetch(\n      'https://react-practice-9b279-default-rtdb.firebaseio.com/foods.json'\n    );\n    if (!res.ok) {\n      throw new Error('Error occured');\n    }\n    const resData = await res.json();\n    const loadedFoods = [];\n\n    for (const key in resData) {\n      loadedFoods.push({\n        id: key,\n        name: resData[key].name,\n        desc: resData[key].desc,\n        price: resData[key].price,\n      });\n    }\n    try {\n      setFoods(loadedFoods);\n    } catch (error) {\n      setIsLoading(false);\n      setHttpError(error.message);\n    }\n    setIsLoading(false);\n  }\n\n  return (\n    <section className={styles.foods}>\n      <Card>\n        <ul>\n          {isLoading && <p className={styles.loading}>로딩 중 입니다.</p>}\n          {!isLoading &&\n            foods.map((food) => (\n              <FoodItem\n                id={food.id}\n                key={food.id}\n                name={food.name}\n                desc={food.desc}\n                price={food.price}\n              />\n            ))}\n        </ul>\n      </Card>\n    </section>\n  );\n};\n\nexport default AvailableFood;\n"]},"metadata":{},"sourceType":"module"}